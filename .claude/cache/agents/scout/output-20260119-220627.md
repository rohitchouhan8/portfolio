# Codebase Report: Next.js Portfolio Architecture
Generated: 2026-01-19 22:06:27

## Summary

This is a **Next.js 16.1.0** portfolio site using the **App Router** (not Pages Router). It follows a clean, file-system-based routing architecture with:
- Static pages for content sections (projects, writing, reading, stack)
- Data-driven content from TypeScript models
- No middleware or API routes currently
- Client-side interactivity with React and Motion animations
- Vercel Analytics integration

## Project Structure

```
portfolio/
├── app/                          # App Router directory (Next.js 13+)
│   ├── layout.tsx                # Root layout (wraps all pages)
│   ├── page.tsx                  # Home page (/)
│   ├── globals.css               # Global styles
│   ├── icon.png                  # Favicon
│   ├── projects/                 # Projects section
│   │   ├── page.tsx              # /projects list page
│   │   ├── figma/page.tsx        # /projects/figma detail
│   │   ├── facebook/page.tsx     # /projects/facebook detail
│   │   ├── senior-design/page.tsx
│   │   ├── pulse-fitness-ai/page.tsx
│   │   ├── rice-university/page.tsx
│   │   └── jp-morgan-chase-and-co/page.tsx
│   ├── writing/                  # Writing section
│   │   ├── page.tsx              # /writing list page
│   │   └── evolution-of-llm-development/page.tsx
│   ├── reading/
│   │   └── page.tsx              # /reading page
│   └── stack/
│       └── page.tsx              # /stack page (tools/software used)
├── components/                   # Reusable React components
│   ├── Page.tsx                  # Main page wrapper (theme provider)
│   ├── Toolbar.tsx               # Navigation toolbar
│   ├── Typography.tsx            # Text components (H1, Paragraph, etc.)
│   ├── List.tsx                  # List/LinkItem components
│   ├── ReactMarkdown.tsx         # Markdown renderer
│   ├── ScrollProgress.tsx        # Scroll indicator
│   ├── TypingText.tsx            # Animated typing effect
│   ├── Callout.tsx               # Callout box component
│   ├── Video.tsx                 # Video component
│   ├── FavIcon.tsx               # Favicon component
│   └── stack/StackItem.tsx       # Stack item display
├── models/                       # Data layer (TypeScript)
│   ├── projects/
│   │   ├── data.ts               # Project registry
│   │   ├── types.ts              # Project TypeScript types
│   │   ├── figma.ts              # Figma project data
│   │   ├── facebook.ts           # Facebook project data
│   │   ├── senior-design.ts
│   │   ├── pulse-fitness.ts
│   │   ├── rice-university.ts
│   │   └── jp-morgan-chase-and-co.ts
│   ├── writing/
│   │   ├── data.ts               # Writing registry
│   │   ├── types.ts              # Writing types (Markdown/External)
│   │   └── evolution-of-llm-development/index.ts
│   ├── reading/
│   │   ├── data.ts               # Reading list data
│   │   └── types.ts
│   └── stack/
│       └── types.ts              # Stack item types
├── utils/                        # Utility functions
│   ├── date.ts                   # Date formatting/sorting
│   ├── text.ts                   # Text utilities
│   ├── tailwind.ts               # Tailwind helper
│   └── assert.ts                 # Type assertions
├── hooks/
│   └── navigation.ts             # Navigation hooks
├── public/                       # Static assets
│   ├── favicon.png
│   ├── builder-demo.gif
│   ├── widget-sample.png
│   └── [other images]
├── next.config.js                # Next.js configuration
├── tsconfig.json                 # TypeScript config
├── tailwind.config.js            # Tailwind CSS config (v4.1.17)
└── package.json                  # Dependencies
```

## Architecture Analysis

### 1. Routing Approach

**VERIFIED:** Uses Next.js **App Router** (app directory, not pages directory)

| Route | File | Type |
|-------|------|------|
| `/` | `/Users/rohitchouhan/Projects/portfolio/app/page.tsx` | Static home page |
| `/projects` | `/Users/rohitchouhan/Projects/portfolio/app/projects/page.tsx` | Dynamic list from models |
| `/projects/figma` | `/Users/rohitchouhan/Projects/portfolio/app/projects/figma/page.tsx` | Static detail page |
| `/writing` | `/Users/rohitchouhan/Projects/portfolio/app/writing/page.tsx` | Dynamic list from models |
| `/writing/evolution-of-llm-development` | `/Users/rohitchouhan/Projects/portfolio/app/writing/evolution-of-llm-development/page.tsx` | Static detail page |
| `/reading` | `/Users/rohitchouhan/Projects/portfolio/app/reading/page.tsx` | Static list |
| `/stack` | `/Users/rohitchouhan/Projects/portfolio/app/stack/page.tsx` | Static list |

**Routing Pattern:**
- File-system based routing (Next.js convention)
- Each `page.tsx` in a directory becomes a route
- Nested folders create nested routes
- No dynamic `[slug]` routes currently (each project/article has its own folder)

### 2. Middleware

**VERIFIED:** No middleware exists

```bash
# Searched for middleware files
find . -name "middleware.*" -not -path "*/node_modules/*"
# Result: No files found
```

No custom middleware is implemented. Request handling is purely through Next.js default behavior.

### 3. Content Structure

Content is managed through a **models** directory pattern:

#### Projects (`/Users/rohitchouhan/Projects/portfolio/models/projects/`)

**Registry pattern:** Central `data.ts` exports a record of all projects

```typescript
// models/projects/data.ts
export const projects: Record<ProjectId, Project> = {
  [ProjectId.FACEBOOK]: facebook,
  [ProjectId.FIGMA]: figma,
  [ProjectId.JP_MORGAN]: jpMorganChaseAndCo,
  [ProjectId.RICE_UNIVERSITY]: riceUniversity,
  [ProjectId.SENIOR_DESIGN]: seniorDesign,
  [ProjectId.PULSE_FITNESS_AI]: pulseFitnessAI,
};
```

**Project Type:**
```typescript
type Project = {
  id: ProjectId;
  name: string;
  startDate: dayjs.Dayjs;
  endDate: dayjs.Dayjs | undefined;
}
```

**Content storage:** Each project detail page has hardcoded markdown content in the component file (e.g., `app/projects/figma/page.tsx` contains markdown string)

#### Writing (`/Users/rohitchouhan/Projects/portfolio/models/writing/`)

**Two content types:**

```typescript
type MarkdownWriting = {
  id: string;
  title: string;
  publishDate: string;
  content: {
    type: 'markdown';
    content: string;
  };
};

type ExternalWriting = {
  id: string;
  title: string;
  publishDate: string;
  content: {
    type: 'external';
    url: string;
  };
};
```

**Usage:** List page at `/writing` can show both internal articles and external links

#### Reading (`/Users/rohitchouhan/Projects/portfolio/models/reading/`)

Simple data-driven list. All content in `models/reading/data.ts`

#### Stack (`/Users/rohitchouhan/Projects/portfolio/app/stack/page.tsx`)

Static list defined inline in component (no separate model file):

```typescript
const stackItems: TStackItem[] = [
  { id: StackItemId.RAYCAST, title: 'Raycast', url: '...', label: '...' },
  { id: StackItemId.CURSOR, title: 'Cursor', url: '...', label: '...' },
  // ... more items
];
```

### 4. API Routes

**VERIFIED:** No API routes exist

```bash
# Searched for API routes
find ./app -type d -name "api"
# Result: No directories found
```

No backend API routes. All data is statically imported from TypeScript model files.

### 5. Request Handling Flow

```
[Browser Request]
       |
       v
[Next.js App Router] ── No middleware
       |
       v
[RootLayout] (/Users/rohitchouhan/Projects/portfolio/app/layout.tsx)
├── Analytics (Vercel)
└── Page wrapper (ThemeProvider + Toolbar)
       |
       v
[Route Component] (e.g., app/projects/page.tsx)
├── Import data from models/
├── Render list/detail view
└── Return JSX
       |
       v
[Client Hydration]
├── Motion animations
├── Theme switching (next-themes)
└── Interactive components
```

**Key patterns:**
1. **Server Components by default** - All pages are React Server Components (no 'use client' in pages)
2. **Client components selectively** - Only interactive parts use 'use client' (e.g., `Page.tsx`, `Toolbar.tsx`)
3. **Static data imports** - Models are imported at build time
4. **No dynamic data fetching** - No API calls, database queries, or CMS integration

## Key Configuration Files

### Next.js Config (`/Users/rohitchouhan/Projects/portfolio/next.config.js`)

```javascript
const nextConfig = {
  images: {
    remotePatterns: [
      {
        protocol: 'https',
        hostname: 'images.ctfassets.net',  // Contentful CDN allowed
      },
    ],
  },
};
```

**Purpose:** Allows images from Contentful CDN (though not currently used in code)

### TypeScript Config (`/Users/rohitchouhan/Projects/portfolio/tsconfig.json`)

```json
{
  "compilerOptions": {
    "paths": {
      "@/*": ["./*"]  // Path alias: @/ = project root
    }
  }
}
```

**Usage:** Enables imports like `import { H1 } from '@/components/Typography'`

## Tech Stack

| Category | Technology | Version |
|----------|-----------|---------|
| Framework | Next.js | 16.1.0 |
| React | React | 18.2.0 |
| Styling | Tailwind CSS | 4.1.17 |
| Font | Geist Sans/Mono | 1.5.1 |
| Animations | Motion | 12.23.24 |
| Theme | next-themes | 0.2.1 |
| Markdown | react-markdown | 9.0.1 |
| Date handling | dayjs | 1.11.10 |
| Analytics | Vercel Analytics | 1.6.1 |
| TypeScript | TypeScript | 5.4.5 |
| UI Components | Radix UI (Tooltip) | 1.0.7 |

## Component Patterns

### Page Wrapper Pattern

All pages are wrapped by `<Page>` component which provides:
- Theme provider (dark/light mode)
- Navigation toolbar (fixed position)
- Layout container (max-width, padding)
- Background noise texture effect
- Favicon

### List Pattern

Common pattern for projects/writing/reading lists:
1. Import data from models
2. Sort by date/relevance
3. Map to `<LinkItem>` or `<ListItem>` components
4. Render in `<List>` container

**Example:**
```tsx
const listItems = Object.values(projects)
  .sort(sortFunction)
  .map((project, idx) => (
    <LinkItem key={project.id} href={`/projects/${project.id}`}>
      {/* Project details */}
    </LinkItem>
  ));

return <List>{listItems}</List>;
```

### Detail Page Pattern

Detail pages (e.g., `/projects/figma`) follow this structure:
1. `<ScrollProgress />` - Shows reading progress bar
2. `<H1>` - Page title
3. `<ReactMarkdown />` - Renders markdown content
4. Content defined as string constant in same file

## Styling Conventions

### Tailwind Classes

**Color scheme:** Uses custom grey scale (`grey-1`, `grey-7`, `grey-11`)
**Responsive:** Uses `md:` breakpoint for tablet/desktop
**Font:** Geist Sans (variable) and Geist Mono (monospace)

**Common patterns:**
```tsx
// Container
<div className="max-w-3xl mx-auto px-4">

// Responsive flex
<div className="flex flex-col md:flex-row gap-4">

// Text colors
<span className="text-grey-11">  // Muted text
```

### Typography Components

Custom typography components wrap Tailwind classes:
- `<H1>` - Page headings
- `<Paragraph>` - Body text
- `<Bold>` - Bold text
- `<HighlightSpan>` - Highlighted text
- `<ListMonoSubtitle>` - Monospace subtitles

## Data Flow

```
[TypeScript Models]
    models/projects/data.ts
    models/writing/data.ts
         |
         | import
         v
[Page Components]
    app/projects/page.tsx
    app/writing/page.tsx
         |
         | render
         v
[Reusable Components]
    components/List.tsx
    components/Typography.tsx
         |
         | client hydration
         v
[Interactive Features]
    - Navigation
    - Theme switching
    - Animations
```

## Notable Patterns

### No CMS/Database
- All content is TypeScript/Markdown files
- No external data sources at runtime
- Build-time static generation

### Minimal Client-Side JS
- Most pages are Server Components
- Client code only for interactivity (theme, animations, navigation)

### File-based Routing
- Each route = a folder + `page.tsx`
- No dynamic catch-all routes
- Explicit routes for each project/article

### Type Safety
- Strong TypeScript types for all data models
- Enums for IDs (`ProjectId`, `StackItemId`)
- Discriminated unions for content types (Markdown vs External)

## Open Questions

1. **Contentful integration** - `next.config.js` allows Contentful images, but no code uses it yet. Planned migration?
2. **Dynamic routes** - Could use `[slug]` instead of individual folders per project
3. **Analytics tracking** - Vercel Analytics is installed but no custom event tracking visible
4. **SEO metadata** - No visible `metadata` exports in pages (Next.js 13+ pattern)

## Recommendations for Middleware

If adding middleware, consider:

1. **Analytics enhancement** - Track page views, custom events
2. **A/B testing** - Route users to different versions
3. **Authentication** - If adding private sections
4. **Redirect rules** - Old URLs to new structure
5. **Geo-targeting** - Location-based content
6. **Rate limiting** - Protect API routes (if added later)

Current architecture supports adding middleware at `/Users/rohitchouhan/Projects/portfolio/middleware.ts` (root level, next to app directory).
