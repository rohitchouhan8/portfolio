/* Import distinctive fonts */
@import url('https://fonts.googleapis.com/css2?family=Source+Serif+4:ital,opsz,wght@0,8..60,400;0,8..60,500;0,8..60,600;0,8..60,700;1,8..60,400&family=Inter:wght@400;500;600&display=swap');

@import 'tailwindcss';

@source './app/**/*.{js,ts,jsx,tsx,mdx}';
@source './components/**/*.{js,ts,jsx,tsx,mdx}';
@source './pages/**/*.{js,ts,jsx,tsx,mdx}';

@custom-variant dark (&:is(.dark &));

@theme {
  /* Light Mode - Warm Oatmeal */
  --color-cream: #faf8f5;
  --color-cream-dark: #f5f2ed;
  --color-oatmeal: #e8e4dd;
  --color-oatmeal-dark: #d9d4ca;

  /* Surface colors - Light */
  --color-surface-1: #faf8f5;
  --color-surface-2: #f5f2ed;
  --color-surface-3: #eae6df;
  --color-surface-hover: #e2ded6;

  /* Text colors - Light */
  --color-text-primary: #2c2825;
  --color-text-secondary: #5c5651;
  --color-text-tertiary: #8a847d;

  /* Accent: Warm Brown */
  --color-accent: #8b6b4f;
  --color-accent-light: #a68968;
  --color-accent-muted: rgba(139, 107, 79, 0.15);

  /* Accent: Terracotta */
  --color-terracotta: #c17f59;
  --color-terracotta-muted: rgba(193, 127, 89, 0.15);

  /* Border - Light */
  --color-border: #e0dbd4;
  --color-border-dark: #cdc7be;

  /* Typography */
  --font-serif: 'Source Serif 4', Georgia, serif;
  --font-sans: 'Inter', system-ui, sans-serif;
  --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, monospace;

  /* Custom easings */
  --ease-out-expo: cubic-bezier(0.19, 1, 0.22, 1);
  --ease-out-quint: cubic-bezier(0.23, 1, 0.32, 1);

  /* Animation durations */
  --duration-fast: 150ms;
  --duration-normal: 250ms;
  --duration-slow: 400ms;
}

@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-border);
  }

  * {
    @apply min-w-0 box-border;
  }

  html {
    @apply antialiased;
    scroll-behavior: smooth;
  }

  body {
    @apply min-h-dvh transition-colors duration-300;
    background-color: var(--color-cream);
    color: var(--color-text-primary);
    font-family: var(--font-sans);
  }

  /* Dark mode overrides */
  .dark {
    --color-cream: #1a1816;
    --color-cream-dark: #211f1c;
    --color-oatmeal: #2a2724;
    --color-oatmeal-dark: #33302c;

    --color-surface-1: #1a1816;
    --color-surface-2: #211f1c;
    --color-surface-3: #2a2724;
    --color-surface-hover: #33302c;

    --color-text-primary: #f5f2ed;
    --color-text-secondary: #a8a29e;
    --color-text-tertiary: #78716c;

    --color-accent: #c9a98c;
    --color-accent-light: #d4bc9f;
    --color-accent-muted: rgba(201, 169, 140, 0.15);

    --color-terracotta: #d9956c;
    --color-terracotta-muted: rgba(217, 149, 108, 0.15);

    --color-border: #33302c;
    --color-border-dark: #403c37;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply text-balance;
    font-family: var(--font-serif);
    font-weight: 600;
    letter-spacing: -0.01em;
    color: var(--color-text-primary);
  }

  p {
    @apply text-pretty;
  }

  /* Selection styling */
  ::selection {
    background-color: var(--color-accent-muted);
    color: var(--color-text-primary);
  }
}

@layer utilities {
  /* Subtle noise texture */
  .noise {
    position: relative;
  }

  .noise::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
    opacity: 0.02;
    pointer-events: none;
    z-index: 1;
  }

  .dark .noise::before {
    opacity: 0.03;
  }

  /* Accent text */
  .accent-text {
    color: var(--color-accent);
  }

  /* Animated underline */
  .link-underline {
    position: relative;
    color: var(--color-accent);
  }

  .link-underline::after {
    content: '';
    position: absolute;
    left: 0;
    bottom: -1px;
    width: 100%;
    height: 1px;
    background-color: var(--color-accent);
    opacity: 0.4;
    transition: opacity var(--duration-normal) var(--ease-out-expo);
  }

  .link-underline:hover::after {
    opacity: 1;
  }
}
